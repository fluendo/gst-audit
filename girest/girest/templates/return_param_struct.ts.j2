// Return value is a struct, instantiate it from the ptr
if (data.{{ return_param.name }} && typeof data.{{ return_param.name }} === 'object' && 'ptr' in data.{{ return_param.name }}) {
{% if return_param.can_be_null %}
  if (data.{{ return_param.name }}.ptr === null) {
    return null;
  }
{% endif %}
  const instance = new {{ return_param.type.ref_schema.valid_name }}(data.{{ return_param.name }}.ptr, '{{ return_param.transfer }}');
  return instance;
}
return Promise.reject("Call failed");
