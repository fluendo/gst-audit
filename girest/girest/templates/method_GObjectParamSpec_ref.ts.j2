{% extends "method.ts.j2" %}
{% block body %}
    const url = new URL(`${apiConfig.normalizedBasePath}{{ ns.method_path }}`, apiConfig.baseUrl);
    const response = await fetch(url.toString());
    if (!response.ok) throw new Error(`HTTP error! status: ${response.status}`);
    // ref() should not create a new instance - it just increments the reference count
    // and returns the same object (this) to avoid infinite recursion
    return this;
		}
{% endblock %}
