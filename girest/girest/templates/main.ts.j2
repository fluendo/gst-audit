{# Main TypeScript file template #}
/**
 * {{ title }}
 * Version: {{ version }}
 * Auto-generated by girest-ts
 */

{% if base_url %}
// FinalizationRegistry for automatic cleanup of GObject instances
const objectRegistry = new FinalizationRegistry((ptr: string) => {
  fetch('{{ base_url }}/GObject/Object/' + ptr + '/unref')
    .catch(err => console.error('Failed to unref object:', ptr, err));
});

{% endif %}
{% for interface in interfaces %}
{{ interface }}

{% endfor %}
{% for class_def in classes %}
{{ class_def }}

{% endfor %}
